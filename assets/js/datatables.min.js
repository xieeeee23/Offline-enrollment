/**
 * DataTables wrapper - redirects to CDN version
 * This file exists to prevent 404 errors, but the actual functionality
 * is loaded from the CDN in the footer.php file.
 */

// Check if jQuery and DataTables are loaded
if (typeof jQuery !== 'undefined') {
    if (typeof jQuery.fn.DataTable === 'undefined') {
        console.warn('DataTables not loaded. Loading from CDN...');
        
        // Create script element to load DataTables from CDN
        const script = document.createElement('script');
        script.src = 'https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js';
        script.async = true;
        document.head.appendChild(script);
        
        // Create script element to load DataTables Bootstrap 5 integration
        const bsScript = document.createElement('script');
        bsScript.src = 'https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js';
        bsScript.async = true;
        document.head.appendChild(bsScript);
        
        // Create link element to load DataTables CSS
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap5.min.css';
        document.head.appendChild(link);
    }
} else {
    console.error('jQuery not loaded. DataTables requires jQuery.');
    
    // Load jQuery first, then DataTables
    const jqueryScript = document.createElement('script');
    jqueryScript.src = 'https://code.jquery.com/jquery-3.6.0.min.js';
    jqueryScript.onload = function() {
        // Now load DataTables
        const dtScript = document.createElement('script');
        dtScript.src = 'https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js';
        document.head.appendChild(dtScript);
        
        // Load DataTables Bootstrap 5 integration
        const bsScript = document.createElement('script');
        bsScript.src = 'https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js';
        document.head.appendChild(bsScript);
        
        // Load DataTables CSS
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap5.min.css';
        document.head.appendChild(link);
    };
    document.head.appendChild(jqueryScript);
} 